{% extends 'layouts/layout_base.html' %}
{% block vue.frontend %}{% endblock vue.frontend %}
{% block js.shared %}
  <script src="//cdnjs.cloudflare.com/ajax/libs/vue/2.6.14/vue.min.js" integrity="sha512-XdUZ5nrNkVySQBnnM5vzDqHai823Spoq1W3pJoQwomQja+o4Nw0Ew1ppxo5bhF2vMug6sfibhKWcNJsG8Vj9tg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js" integrity="sha512-7VTiy9AhpazBeKQAlhaLRUk+kAMAb8oczljuyJHPsVPWox/QIXDFOnT9DUk1UC8EbnHKRdQowT7sOBe7LAjajQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js" integrity="sha512-WFN04846sdKMIP5LKNphMaWzU7YpMyCU245etK3g/2ARYbPK9Ub18eG+ljU96qKRCWh+quCY7yefSmlkQw1ANQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script>
    const E_SERVER_ERROR = 'Error while communicating with the server.'

    Vue.options.delimiters = ['!{', '}!']

    function formatClientTimestamp(datetime) {
      return new Intl.DateTimeFormat('en-US', {
        year: 'numeric', month: 'numeric', day: 'numeric',
        hour: 'numeric', minute: 'numeric',
        hour12: false,
        timeZoneName: 'short'
      }).format(new Date(datetime))
    }

    function formatMonthly(d) {
      const months = [
        "January", "February", "March", "April", "May", "June",
        "July", "August", "September", "October", "November", "December"
      ];

      const date = new Date(d)
      return `${months[date.getMonth()]} ${date.getFullYear()}`
    }

    function formatQuarterly(d) {
      const quarters = [
        "Q1", "Q2", "Q3", "Q4"
      ];

      const date = new Date(d)
      return `${quarters[Math.floor(date.getMonth() / 3)]} ${date.getFullYear()}`
    }
  </script>
{% endblock js.shared %}
