{% extends 'layouts/layout_base.html' %}

{% load recursetags %}

{% block body_content %}
<div class="panel panel-default">
	<div class="panel-heading"><i class="glyphicon glyphicon-scale"></i> Available Pool Configurations</div>
	<div class="panel-body">
		<div class="dropdown">
			<button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">
				Create Configuration
				<span class="caret"></span>
			</button>
			<ul class="dropdown-menu">
				<li><a href="{% url 'ec2spotmanager:configcreate' 'ec2'%}" class="btn btn-default">Create Ec2 Configuration</a></li>
			</ul>
		</div>
		<br/>
		<hr/>
			<ul>
				{% for root in roots %}
			  	{% recurseconfig root %}
			  	<li>
				 <a href="{% url 'ec2spotmanager:configview' node.pk %}">{{ node.name }}</a>
				 {% if node.children %}
				 	<ul>{{ children }}</ul>
				 {% endif %}
				 {% endrecurseconfig %}
				</li>
				{% endfor %}
			</ul>
	</div>
</div>
{% endblock body_content %}
